<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
       http://www.springframework.org/schema/context/spring-context.xsd ">


    <!--添加自定义参数解析器-->
    <bean id="requestMappingHandlerAdapter" class="org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter" scope="prototype">
        <!--<property name="customArgumentResolvers">-->
            <!--<list>-->
                <!--<bean id="beanAttributeArgumentResolver" class="cn.tongdun.hertz.web.argumentresolver.BeanAttributeArgumentResolver"/>-->
            <!--</list>-->
        <!--</property>-->

        <property name="messageConverters" >
            <list>
                <bean  class="com.alibaba.fastjson.support.spring.FastJsonHttpMessageConverter">
                    <property name="supportedMediaTypes">
                        <list>
                            <value>text/html;charset=UTF-8</value>
                            <value>application/json</value>
                        </list>
                    </property>

                    <!--解决属性为空时不返回字段的问题-->
                    <property name="fastJsonConfig">
                        <bean  class="com.alibaba.fastjson.support.config.FastJsonConfig">
                            <property name="serializerFeatures">
                                <array>
                                    <!-- 将Collection类型字段的字段空值输出为[] -->
                                    <value>WriteNullListAsEmpty</value>

                                    <!-- 将字符串类型字段的空值输出为空字符串 "" -->
                                    <value>WriteNullStringAsEmpty</value>

                                    <!-- 将Boolean类型字段的空值输出为false -->
                                    <value>WriteNullBooleanAsFalse</value>
                                    <value>DisableCircularReferenceDetect</value>
                                </array>

                            </property>
                        </bean>
                    </property>
                </bean>
                <bean class="org.springframework.http.converter.StringHttpMessageConverter"/>
                <bean class="org.springframework.http.converter.ByteArrayHttpMessageConverter"/>

            </list>
        </property>
    </bean>

</beans>
